(:summary    "Asynchronous execution of filesystem operations for the Sunrise Commander File Manager"
 :created    "20080627"
 :updated    "2010"
 :license    "GPL-3"
 :authors    (("José Alfredo Romero L." . "escherdragon@gmail.com"))
 :maintainer ("José Alfredo Romero L." . "escherdragon@gmail.com")
 :provided   (sunrise-x-loop)
 :required   ((("sunrise-commander" sunrise-commander)))
 :keywords   ("sunrise" "commander" "files" "manager" "background" "copy" "rename" "move")
 :commentary "\
This  extension  adds  to  the Sunrise Commander the capability of performing
copy and rename operations in the background. It provides prefixable  drop-in
replacements  for  the  sr-do-copy and sr-do-rename commands and uses them to
redefine their bindings in the sr-mode-map keymap. When invoked the usual way
(by  pressing C or R), these new functions work exactly as the old ones, i.e.
they simply pass the control flow to the logic already provided  by  Sunrise,
but  when  prefixed (by pressing C-u C or C-u R) they launch a separate elisp
intepreter in the background, delegate to it the  execution  of  all  further
operations  and  return immediately, so the emacs UI remains fully responsive
while any potentially long-running copy or move tasks can  be  let  alone  to
eventually reach their completion in the background.

After  all  requested actions have been performed, the background interpreter
remains active for a short period of time (30 seconds by default, but it  can
be customized), after which it shuts down automatically.

At any moment you can abort all tasks scheduled and under execution and force
the background interpreter to shut down by invoking the sr-loop-stop  command
(M-x sr-loop-stop).

If  you  need to debug something or are just curious about how this extension
works, you can set the variable sr-loop-debug to t to  have  the  interpreter
launched  in  debug  mode.  In  this  mode all input and output of background
operations are sent to a buffer named *SUNRISE-LOOP*.  To  return  to  normal
mode set back sr-loop-debug to nil and use sr-loop-stop to kill the currently
running interpreter.

The extension disables itself and tries to do its best to keep out of the way
when working with remote directories through FTP (e.g. when using  ange-ftp),
since in these cases the execution of file transfers in the background should
be managed directly by the FTP client.

This is version 3 $Rev: 315 $ of the Sunrise Commander Loop Extension.

It  was  written  on GNU Emacs 23 on Linux, and tested on GNU Emacs 22 and 23
for Linux and on EmacsW32 (version 22) for  Windows.

Installation and Usage:

1) Put this file somewhere in your emacs load-path.

2)  Add  a (require 'sunrise-x-loop) expression to your .emacs file somewhere
after the (require 'sunrise-commander) one.

3) Evaluate the new expression, or reload your .emacs file, or restart emacs.

4)  The  next  time  you  need to copy of move any big files, just prefix the
appropriate command with C-u.

5) Enjoy ;-)")
